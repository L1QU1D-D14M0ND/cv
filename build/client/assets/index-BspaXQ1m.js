import{e as b,J as w,aQ as k,g as E,b as $,d as C}from"./iconBase-BWSADAlq.js";var I=$("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),i=I.build(),S=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`progress-${e.id}`},A=e=>{var t;return((t=e.ids)==null?void 0:t.track)??`progress-${e.id}-track`},M=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`progress-${e.id}-label`},R=e=>{var t;return((t=e.ids)==null?void 0:t.circle)??`progress-${e.id}-circle`};function F(e,t){const{context:a,computed:n,prop:r,send:g,scope:d}=e,u=n("percent"),y=n("isIndeterminate")?"":n("formatter").format(n("percent")/100),s=r("max"),v=r("min"),o=r("orientation"),p=r("translations"),f=n("isIndeterminate"),l=a.get("value"),V=(p==null?void 0:p.value({value:l,max:s,percent:u,min:v}))??"",c=L(l,s),P={role:"progressbar","aria-label":V,"data-max":s,"aria-valuemin":v,"aria-valuemax":s,"aria-valuenow":l??void 0,"data-orientation":o,"data-state":c},h=O(e);return{value:l,valueAsString:V,min:v,max:s,percent:u,percentAsString:y,indeterminate:f,setValue(m){g({type:"VALUE.SET",value:m})},setToMax(){g({type:"VALUE.SET",value:s})},setToMin(){g({type:"VALUE.SET",value:v})},getRootProps(){return t.element({dir:r("dir"),...i.root.attrs,id:S(d),"data-max":s,"data-value":l??void 0,"data-state":c,"data-orientation":o,style:{"--percent":f?void 0:u}})},getLabelProps(){return t.element({dir:r("dir"),id:M(d),...i.label.attrs,"data-orientation":o})},getValueTextProps(){return t.element({dir:r("dir"),"aria-live":"polite",...i.valueText.attrs})},getTrackProps(){return t.element({dir:r("dir"),id:A(d),...i.track.attrs,...P})},getRangeProps(){return t.element({dir:r("dir"),...i.range.attrs,"data-orientation":o,"data-state":c,style:{[n("isHorizontal")?"width":"height"]:f?void 0:`${u}%`}})},getCircleProps(){return t.element({dir:r("dir"),id:R(d),...i.circle.attrs,...P,...h.root})},getCircleTrackProps(){return t.element({dir:r("dir"),"data-orientation":o,...i.circleTrack.attrs,...h.track})},getCircleRangeProps(){return t.element({dir:r("dir"),...i.circleRange.attrs,...h.range,"data-state":c})},getViewProps(m){return t.element({dir:r("dir"),...i.view.attrs,"data-state":m.state,hidden:m.state!==c})}}}function L(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}var T={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}},N={style:{width:"var(--size)",height:"var(--size)"}};function O(e){const{context:t,computed:a}=e;return{root:N,track:T,range:{opacity:t.get("value")===0?0:void 0,style:{...T.style,"--percent":a("percent"),"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:a("isIndeterminate")?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}var J=b({props({props:e}){const t=e.min??0,a=e.max??100;return{...e,max:a,min:t,defaultValue:e.defaultValue??H(t,a),orientation:"horizontal",formatOptions:{style:"percent",...e.formatOptions},translations:{value:({percent:n})=>n===-1?"loading...":`${n} percent`,...e.translations}}},initialState(){return"idle"},entry:["validateContext"],context({bindable:e,prop:t}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(a){var n;(n=t("onValueChange"))==null||n({value:a})}}))}},computed:{isIndeterminate:({context:e})=>e.get("value")===null,percent({context:e,prop:t}){const a=e.get("value");return k(a)?E(a,t("min"),t("max"))*100:-1},formatter:w(({prop:e})=>[e("locale"),e("formatOptions")],(e,t)=>new Intl.NumberFormat(e,t)),isHorizontal:({prop:e})=>e("orientation")==="horizontal"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}},implementations:{actions:{setValue:({context:e,event:t,prop:a})=>{const n=t.value===null?null:Math.max(0,Math.min(t.value,a("max")));e.set("value",n)},validateContext:({context:e,prop:t})=>{const a=t("max"),n=t("min"),r=e.get("value");if(r!=null){if(!x(a))throw new Error(`[progress] The max value passed \`${a}\` is not a valid number`);if(!U(r,a))throw new Error(`[progress] The value passed \`${r}\` exceeds the max value \`${a}\``);if(!D(r,n))throw new Error(`[progress] The value passed \`${r}\` exceeds the min value \`${n}\``)}}}}}),x=e=>k(e)&&!isNaN(e),U=(e,t)=>x(e)&&e<=t,D=(e,t)=>x(e)&&e>=t,H=(e,t)=>e+(t-e)/2;C()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);export{I as a,F as c,J as m};
